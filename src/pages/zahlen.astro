---
import Layout from '../layouts/Layout.astro';
---
<Layout title="Zahlen-Code" emoji="ğŸ”¢">
  <div class="text-center mb-8">
    <div class="text-7xl mb-4">ğŸ”¢</div>
    <h1 class="text-5xl font-fun font-bold rainbow-text">Zahlen-Code</h1>
    <p class="text-xl text-gray-600 mt-4 max-w-2xl mx-auto">
      Der einfachste Code der Welt: Jeder Buchstabe bekommt seine Nummer!
      A=1, B=2, C=3 ... Z=26. Super einfach und trotzdem geheim! ğŸ¤“
    </p>
  </div>

  <!-- Table -->
  <div class="bg-white rounded-3xl p-8 shadow-xl mb-8">
    <h2 class="text-3xl font-fun font-bold text-candy-green mb-4">ğŸ“‹ Die Zuordnung</h2>
    <div class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-9 lg:grid-cols-13 gap-2">
      {Array.from({length: 26}, (_, i) => {
        const letter = String.fromCharCode(65 + i);
        return (
          <div class="bg-candy-green/10 rounded-xl p-2 text-center">
            <div class="text-2xl font-bold">{letter}</div>
            <div class="text-lg text-candy-green font-bold">{i + 1}</div>
          </div>
        );
      })}
    </div>
  </div>

  <!-- Example -->
  <div class="bg-gradient-to-r from-candy-green/20 to-emerald-200/30 rounded-3xl p-8 shadow-xl mb-8">
    <h2 class="text-3xl font-fun font-bold text-candy-green mb-4">ğŸ“ Beispiel</h2>
    <div class="text-center bg-white rounded-2xl p-6">
      <p class="text-2xl mb-2">Das Wort <strong class="text-3xl">HALLO</strong> wird zu:</p>
      <p class="text-4xl font-mono font-bold text-candy-green">8 - 1 - 12 - 12 - 15</p>
    </div>
  </div>

  <!-- Interactive Tool -->
  <div class="bg-gradient-to-br from-candy-green/20 to-emerald-200/30 rounded-3xl p-8 shadow-xl mb-8">
    <h2 class="text-3xl font-fun font-bold text-candy-green mb-6">ğŸ”§ Zahlen-Ãœbersetzer</h2>

    <div class="grid md:grid-cols-2 gap-6">
      <div>
        <label class="block text-lg font-bold mb-2">ğŸ“ Text â†’ Zahlen:</label>
        <input type="text" id="text-input" placeholder="Schreibe hier..." class="tool-input" maxlength="50" />
        <button id="btn-to-numbers" class="btn-fun bg-gradient-to-r from-candy-green to-emerald-400 mt-3 w-full">
          ğŸ”¢ In Zahlen umwandeln
        </button>
        <div id="number-output" class="tool-output mt-3 text-2xl font-mono text-candy-green text-center">...</div>
      </div>
      <div>
        <label class="block text-lg font-bold mb-2">ğŸ”¢ Zahlen â†’ Text:</label>
        <input type="text" id="number-input" placeholder="z.B. 8-1-12-12-15" class="tool-input" />
        <button id="btn-to-text" class="btn-fun bg-gradient-to-r from-candy-purple to-candy-pink mt-3 w-full">
          ğŸ“ In Text umwandeln
        </button>
        <div id="text-output" class="tool-output mt-3 text-2xl font-bold text-candy-purple text-center">...</div>
      </div>
    </div>
  </div>

  <!-- Tricks -->
  <div class="bg-white rounded-3xl p-8 shadow-xl mb-8">
    <h2 class="text-3xl font-fun font-bold text-candy-green mb-4">ğŸ§  Tricks fÃ¼r Profis</h2>
    <div class="space-y-4">
      <div class="bg-candy-yellow/10 rounded-2xl p-4">
        <p class="font-bold text-lg">ğŸ”„ RÃ¼ckwÃ¤rts-Zahlen:</p>
        <p>A=26, B=25, C=24 ... Z=1 â€” Doppelt verwirrend!</p>
      </div>
      <div class="bg-candy-blue/10 rounded-2xl p-4">
        <p class="font-bold text-lg">â• Plus-Trick:</p>
        <p>Addiere eine geheime Zahl! Bei +5 wird A=6, B=7, C=8...</p>
      </div>
      <div class="bg-candy-pink/10 rounded-2xl p-4">
        <p class="font-bold text-lg">âœ–ï¸ Mal-Trick:</p>
        <p>Multipliziere mit 2! A=2, B=4, C=6... Knifflig!</p>
      </div>
    </div>
  </div>

  <!-- Challenge -->
  <div class="bg-gradient-to-r from-candy-red/20 to-candy-orange/20 rounded-3xl p-8 shadow-xl">
    <h2 class="text-3xl font-fun font-bold text-candy-red mb-4">ğŸ† Herausforderung!</h2>
    <p class="text-lg mb-4">Was bedeutet diese Zahlen-Nachricht?</p>
    <p class="text-3xl font-mono text-center bg-white rounded-2xl p-6 font-bold text-candy-green">
      4-21 / 2-9-19-20 / 19-21-16-5-18
    </p>
    <details class="mt-4">
      <summary class="cursor-pointer text-candy-orange font-bold text-lg hover:underline">ğŸ’¡ LÃ¶sung anzeigen</summary>
      <p class="mt-2 text-xl text-center font-bold">DU BIST SUPER! ğŸŒŸ</p>
    </details>
  </div>

  <script>
    const ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

    document.getElementById('btn-to-numbers')!.addEventListener('click', () => {
      const text = (document.getElementById('text-input') as HTMLInputElement).value.toUpperCase();
      const result = text.split('').map(c => {
        if (c === ' ') return '/';
        const i = ALPHA.indexOf(c);
        return i >= 0 ? String(i + 1) : c;
      }).join('-').replace(/-\/-/g, ' / ');
      document.getElementById('number-output')!.textContent = result || 'Schreibe erst etwas! â˜ï¸';
    });

    document.getElementById('btn-to-text')!.addEventListener('click', () => {
      const nums = (document.getElementById('number-input') as HTMLInputElement).value;
      const parts = nums.split(/[\s\/]+/).map(word =>
        word.split('-').map(n => {
          const num = parseInt(n);
          return num >= 1 && num <= 26 ? ALPHA[num - 1] : '?';
        }).join('')
      ).join(' ');
      document.getElementById('text-output')!.textContent = parts || 'Gib Zahlen ein! â˜ï¸';
    });
  </script>
</Layout>
