---
import Layout from '../layouts/Layout.astro';
---
<Layout title="Zahlen-Code" emoji="ğŸ”¢">
  <section class="section text-center max-w-3xl mx-auto px-6 pb-12">
    <div class="text-6xl mb-6 animate-fade-in">ğŸ”¢</div>
    <h1 class="text-4xl md:text-5xl font-extrabold tracking-tight mb-4">
      <span class="gradient-text">Zahlen-Code</span>
    </h1>
    <p class="text-lg text-gray-500 max-w-xl mx-auto">
      Der einfachste Code der Welt â€” jeder Buchstabe bekommt seine Nummer im Alphabet.
    </p>
  </section>

  <!-- Table -->
  <section class="max-w-4xl mx-auto px-6 mb-16">
    <div class="card">
      <h2 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-6 text-center">Die Zuordnung</h2>
      <div class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-9 lg:grid-cols-13 gap-2">
        {Array.from({length: 26}, (_, i) => {
          const letter = String.fromCharCode(65 + i);
          return (
            <div class="bg-pastel-green rounded-xl p-2.5 text-center">
              <div class="text-lg font-bold text-gray-800">{letter}</div>
              <div class="text-sm font-semibold text-apple-green">{i + 1}</div>
            </div>
          );
        })}
      </div>
      <div class="bg-pastel-green rounded-2xl p-5 text-center mt-6">
        <p class="text-base">
          <span class="text-gray-500">HALLO</span>
          <span class="mx-3 text-gray-300">â†’</span>
          <span class="text-apple-green font-bold text-xl font-mono">8 Â· 1 Â· 12 Â· 12 Â· 15</span>
        </p>
      </div>
    </div>
  </section>

  <!-- Tool -->
  <section class="bg-pastel-gray py-16">
    <div class="max-w-3xl mx-auto px-6">
      <h2 class="text-2xl md:text-3xl font-bold text-center mb-10">Zahlen-Ãœbersetzer</h2>
      <div class="grid md:grid-cols-2 gap-6">
        <div class="bg-white rounded-3xl p-6 shadow-soft">
          <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4">Text â†’ Zahlen</h3>
          <input type="text" id="text-input" placeholder="Schreibe hier..." class="tool-input mb-3" maxlength="50" />
          <button id="btn-to-numbers" class="btn btn-green w-full">Umwandeln</button>
          <div id="number-output" class="tool-output mt-4 text-xl font-mono text-apple-green text-center">â€¦</div>
        </div>
        <div class="bg-white rounded-3xl p-6 shadow-soft">
          <h3 class="text-sm font-semibold text-gray-400 uppercase tracking-wider mb-4">Zahlen â†’ Text</h3>
          <input type="text" id="number-input" placeholder="z.B. 8-1-12-12-15" class="tool-input mb-3" />
          <button id="btn-to-text" class="btn btn-indigo w-full">Umwandeln</button>
          <div id="text-output" class="tool-output mt-4 text-xl font-bold text-apple-indigo text-center">â€¦</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Tricks -->
  <section class="section max-w-3xl mx-auto px-6">
    <h2 class="text-2xl font-bold text-center mb-8">Tricks fÃ¼r Profis</h2>
    <div class="space-y-4">
      <div class="card-flat bg-pastel-orange rounded-2xl p-6">
        <p class="font-semibold text-gray-800 mb-1">ğŸ”„ RÃ¼ckwÃ¤rts-Zahlen</p>
        <p class="text-sm text-gray-500">A=26, B=25, C=24 â€¦ Z=1 â€” doppelt verwirrend!</p>
      </div>
      <div class="card-flat bg-pastel-blue rounded-2xl p-6">
        <p class="font-semibold text-gray-800 mb-1">â• Plus-Trick</p>
        <p class="text-sm text-gray-500">Addiere eine geheime Zahl! Bei +5 wird A=6, B=7, C=8â€¦</p>
      </div>
      <div class="card-flat bg-pastel-purple rounded-2xl p-6">
        <p class="font-semibold text-gray-800 mb-1">âœ–ï¸ Mal-Trick</p>
        <p class="text-sm text-gray-500">Multipliziere mit 2! A=2, B=4, C=6â€¦ Knifflig!</p>
      </div>
    </div>
  </section>

  <!-- Challenge -->
  <section class="bg-pastel-gray py-16">
    <div class="max-w-3xl mx-auto px-6">
      <div class="bg-white rounded-3xl p-8 shadow-soft text-center">
        <h2 class="text-2xl font-bold mb-4">ğŸ† Herausforderung</h2>
        <p class="text-gray-500 mb-6">Was bedeutet diese Zahlen-Nachricht?</p>
        <p class="text-2xl font-mono font-bold text-apple-green bg-pastel-green rounded-2xl p-6">
          4Â·21 / 2Â·9Â·19Â·20 / 19Â·21Â·16Â·5Â·18
        </p>
        <details class="mt-6">
          <summary class="cursor-pointer text-apple-blue font-semibold hover:underline text-sm">LÃ¶sung anzeigen</summary>
          <p class="mt-3 text-lg font-semibold">DU BIST SUPER! ğŸŒŸ</p>
        </details>
      </div>
    </div>
  </section>

  <script>
    const ALPHA = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    document.getElementById('btn-to-numbers')!.addEventListener('click', () => {
      const text = (document.getElementById('text-input') as HTMLInputElement).value.toUpperCase();
      const result = text.split('').map(c => {
        if (c === ' ') return '/';
        const i = ALPHA.indexOf(c);
        return i >= 0 ? String(i + 1) : c;
      }).join('Â·').replace(/Â·\/Â·/g, ' / ');
      document.getElementById('number-output')!.textContent = result || 'â€¦';
    });
    document.getElementById('btn-to-text')!.addEventListener('click', () => {
      const nums = (document.getElementById('number-input') as HTMLInputElement).value;
      const parts = nums.split(/[\s\/]+/).map(word =>
        word.split(/[-Â·]/).map(n => {
          const num = parseInt(n);
          return num >= 1 && num <= 26 ? ALPHA[num - 1] : '?';
        }).join('')
      ).join(' ');
      document.getElementById('text-output')!.textContent = parts || 'â€¦';
    });
  </script>
</Layout>
