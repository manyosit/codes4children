---
import { codes } from '../../data/codes';
const currentPath = Astro.url.pathname;
---
<header class="glass-header sticky top-0 z-50">
  <div class="max-w-content mx-auto px-6 md:px-12">
    <div class="flex items-center justify-between h-16">
      <a href="/" class="flex items-center gap-2 group">
        <img src="/favicon-32x32.png" alt="" class="w-7 h-7" />
        <span class="font-display font-bold text-xl text-text-primary group-hover:text-primary transition-colors">
          Codes4Kids
        </span>
      </a>

      <!-- Desktop Nav -->
      <nav class="hidden md:flex items-center gap-1" aria-label="Hauptnavigation">
        {codes.map(code => {
          const isActive = currentPath === `/${code.slug}` || currentPath === `/${code.slug}/`;
          return (
            <a
              href={`/${code.slug}`}
              class:list={[
                'flex items-center gap-1.5 px-3 py-2 rounded-xl text-sm font-medium transition-all duration-200',
                isActive
                  ? 'bg-gray-100 text-text-primary'
                  : 'text-text-secondary hover:text-text-primary hover:bg-gray-50'
              ]}
              style={isActive ? `color: ${code.accentColor}` : ''}
            >
              <img src={`/icons/${code.slug}.png`} alt={code.title} class="w-5 h-5 object-contain" />
              <span class="hidden lg:inline">{code.title.split('-')[0].split(' ')[0]}</span>
            </a>
          );
        })}
      </nav>
    </div>
  </div>
</header>
