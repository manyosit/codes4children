---
import Header from '../components/common/Header.astro';
import Footer from '../components/common/Footer.astro';
import BottomNav from '../components/common/BottomNav.astro';
import '../styles/global.css';

interface Props {
  title: string;
  description?: string;
}

const { title, description = 'Lerne Geheimcodes und Chiffren — für Kinder von 8 bis 12!' } = Astro.props;
---
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="description" content={description} />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
  <title>{title} — Codes4Kids</title>
</head>
<body class="min-h-screen flex flex-col has-bottom-nav">
  <Header />

  <main class="flex-1">
    <slot />
  </main>

  <Footer />
  <BottomNav />

  <!-- Scroll animation observer -->
  <script>
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.stagger, .animate-on-scroll').forEach(el => observer.observe(el));
  </script>
</body>
</html>
